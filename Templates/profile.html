<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
</head>
<body>
    <h1>Welcome, {{ user.username }}</h1>
    <p>Email: {{ user.email }}</p>

    <h2>Profile Picture</h2>
<img src="{{ user.profile_picture.url }}" alt="Profile Picture" width="150">
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Upload Picture</button>
</form>


    <h2>Societies</h2>
    {% if societies %}
        <h3>Member of:</h3>
        <ul>
            {% for society in societies %}
                <li>{{ society.name }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Not a member of any societies.</p>
    {% endif %}

    {% if admin_societies %}
        <h3>Admin of:</h3>
        <ul>
            {% for society in admin_societies %}
                <li>{{ society.name }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <h2>Event Participation</h2>
    {% if participation_details %}
        <ul>
            {% for participation in participation_details %}
                <li>
                    Event: {{ participation.event.title }}<br>
                    Position: {{ participation.position }}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No event participation yet.</p>
    {% endif %}

    <h2>Your Membership Applications</h2>
    {% if membership_applications %}
        <ul>
            {% for application in membership_applications %}
                <li>
                    {{ application.society.name }} - Status: {{ application.status }}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No applications submitted yet.</p>
    {% endif %}

    <h2>Recent Posts</h2>
    {% if user_posts %}
        <ul>
            {% for post in user_posts %}
                <li>{{ post.title }} - {{ post.created_at }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No posts created yet.</p>
    {% endif %}

    <h2>Recent Comments</h2>
    {% if user_comments %}
        <ul>
            {% for comment in user_comments %}
                <li>{{ comment.content }} - On Post: {{ comment.post.title }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No comments made yet.</p>
    {% endif %}


</body>
</html>
